<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>title</title>
	<link rel="stylesheet" href="style.css">
	<script type="text/javascript" src="element.js"></script>
	<script type="text/javascript" src="script.js"></script>
	<script>
		/* MathJax = {
			tex: {
				inlineMath: [
					['\\(', '\\)']
				],
				displayMath: [
					['\\[', '\\]']
				]
			},
			svg: {
				fontCache: 'global'
			}
		}; */
		window.MathJax = {
			startup: {
				ready: () => {
					MathJax.startup.defaultReady();
					MathJax.startup.promise.then(() => {
						console.log('MathJax initial typesetting complete');
						process_block_diagram();
					});
				}
			},
			tex: {
				inlineMath: [
					['\\(', '\\)']
				],
				displayMath: [
					['\\[', '\\]']
				],
				tags: "ams",
			},
			svg: {
				fontCache: 'global'
			}
		};

	</script>	
	<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg-full.js"></script>
</head>
<body>

	<a href="http://docs.mathjax.org/en/latest/web/typeset.html">typeset</a>

	<p>Duis libero metus, aliquam quis mi eu, consectetur \( a^2 + b^2 = c^2 \) aliquet libero. Donec sit amet convallis erat. Phasellus in accumsan felis. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque sed ex efficitur, mattis ante vitae, aliquet dolor. Pellentesque in arcu a sapien aliquet rhoncus. Ut quis vehicula sem. Donec pellentesque nec tellus id dignissim. Cras sollicitudin metus sit amet orci lacinia laoreet. Etiam sit amet finibus turpis. Duis lobortis consectetur rutrum. Nullam aliquam ultrices tortor vitae vestibulum. Aliquam in lacus id elit iaculis auctor. Suspendisse sed tempus arcu. Fusce malesuada turpis at tincidunt tincidunt.</p>
	
	<p>\begin{equation}
	E = mc^2
	\label{eq:sample}
	\end{equation}</p>

	<p>In hendrerit ipsum aliquet, mattis erat eu, hendrerit metus. Proin mauris libero, molestie vel luctus id, faucibus in diam. Etiam eu lorem sit amet dui consequat convallis. Vivamus fermentum vehicula porttitor. Phasellus sit amet fringilla enim. Phasellus ac turpis laoreet, eleifend dui non, dictum nibh. Sed est nisi, commodo sit amet arcu non, aliquet blandit quam. Morbi eros eros, bibendum lacinia lacus et, ultricies auctor neque. Quisque lacinia quam nec mauris pretium gravida. Morbi vel gravida ligula. Morbi placerat nulla sapien, eget pretium neque imperdiet auctor. Suspendisse vitae semper ex. Sed suscipit eros at sem elementum, sit amet aliquam velit posuere. Fusce pharetra pellentesque commodo. Praesent pulvinar vestibulum tortor, fermentum mattis dui tempus in. Ut porta nibh lectus, in varius turpis consequat vel.</p>

	<p>\begin{equation*}
	e^{\pi i} + 1 = 0
	\end{equation*}</p>
	
	<p>Phasellus scelerisque faucibus aliquet. In ultricies viverra tempus. Donec sollicitudin ullamcorper faucibus. Duis odio velit, mattis sit amet quam eget, interdum pretium risus. Duis commodo mauris at placerat dapibus. Integer sit amet arcu justo. Sed interdum volutpat nibh, non faucibus lacus aliquam ac. Nam facilisis erat a dolor ultrices elementum. Maecenas varius elit id elit ultricies, nec fermentum quam elementum.</p>

	<p>\begin{equation}
	\int_0^\infty \frac{x^3}{e^x-1}\,dx = \frac{\pi^4}{15}
	\end{equation}</p>
	
	<p>Curabitur auctor ipsum lorem, sit amet molestie nibh pellentesque ut. Maecenas lacinia tellus a dapibus tempor. Quisque eros magna, dapibus non turpis vitae, ultricies pretium mauris. Vestibulum sed iaculis tellus. Nulla nibh ante, hendrerit eget feugiat eu, semper quis mauris. Nulla feugiat mattis sagittis. Aenean placerat magna at est hendrerit, in egestas felis dapibus. Nullam consectetur turpis eu mollis pellentesque. Curabitur ultrices, nisi nec convallis maximus, erat turpis rutrum quam, ac consequat arcu lacus vitae justo. Vivamus vestibulum sem metus, auctor tempus eros tincidunt eget. Sed eget tempus libero, ultrices consequat sem. Quisque lorem urna, lacinia ut lobortis faucibus, euismod sit amet tortor. Pellentesque quis lorem condimentum, convallis libero ut, iaculis sapien. Ut iaculis, nisl vel imperdiet posuere, lectus nunc rutrum turpis, nec maximus turpis arcu egestas erat.</p>

	<svg width="190mm" height="100mm" viewBox="0 0 190 100">
		<g style="stroke:black;fill:none;">
			<rect width="150" height="60" x="20" y="20" />
		</g>
		<text x="95" y="50">\[ a^2 \]</text>
	</svg>
	
	<p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Sed tellus nunc, blandit non rutrum et, sodales quis nunc. Sed feugiat orci nulla, ac tempus diam volutpat vel. Sed viverra neque orci, eu tincidunt dui venenatis ut. In sed porttitor magna. Nulla pharetra mauris nec sapien finibus commodo. Suspendisse potenti. In hac habitasse platea dictumst. Praesent lacinia massa eu mi efficitur semper. Sed sed placerat turpis. Sed sapien eros, ornare in tempor et, faucibus sit amet lacus.</p>

	<svg width="190mm" height="100mm" viewBox="0 0 190 100">
		<g style="stroke:black;fill:none;">
			<rect width="150" height="60" x="20" y="20"></rect>
		</g>
		<text x="95" y="50">
			<mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" display="true" tabindex="0" ctxtmenu_counter="4">
				<svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="2.11ex" height="2.022ex" role="img" focusable="false" viewBox="0 -883.9 932.6 893.9" xmlns:xlink="http://www.w3.org/1999/xlink">
					<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)">
						<g data-mml-node="math">
							<g data-mml-node="msup">
								<g data-mml-node="mi">
									<use xlink:href="#MJX-TEX-I-61"></use>
								</g>
								<g data-mml-node="mn" transform="translate(529, 413) scale(0.707)">
									<use xlink:href="#MJX-TEX-N-32"></use>
								</g>
							</g>
						</g>
					</g>
				</svg>
			</mjx-container>
		</text>
	</svg>	
	
	<p>Aliquam et congue odio, et sodales est. Mauris tortor nunc, consectetur at metus quis, congue efficitur dolor. Nunc porttitor est ut purus sodales, et semper odio facilisis. Nam vel augue facilisis, fringilla ex ac, congue ligula. Sed at erat molestie diam molestie lobortis. Nunc consequat sed tortor ut consequat. Sed sed elit dictum, consequat arcu eget, elementum eros. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Vivamus egestas erat tortor, sit amet fringilla enim dignissim ullamcorper. Nullam iaculis nisl et mauris sodales dapibus.</p>

	<mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" display="true" tabindex="0" ctxtmenu_counter="4">
		<svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="2.11ex" height="2.022ex" role="img" focusable="false" viewBox="0 -883.9 932.6 893.9" xmlns:xlink="http://www.w3.org/1999/xlink">
			<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)">
				<g data-mml-node="math">
					<g data-mml-node="msup">
						<g data-mml-node="mi">
							<use xlink:href="#MJX-TEX-I-61"></use>
						</g>
						<g data-mml-node="mn" transform="translate(529, 413) scale(0.707)">
							<use xlink:href="#MJX-TEX-N-32"></use>
						</g>
					</g>
				</g>
			</g>
		</svg>
	</mjx-container>
	
	<p>Aliquam placerat quam nibh, rutrum volutpat orci sodales at. Etiam quis nibh viverra, pharetra mi in, vehicula nisi. Fusce egestas tristique ligula eu porttitor. Cras non imperdiet orci. Donec dui lacus, egestas in dictum quis, venenatis sit amet risus. Vivamus aliquam fringilla posuere. Nunc sem risus, sodales at blandit et, condimentum non enim. Proin eget viverra risus, blandit accumsan sem. Nam sed laoreet mauris, quis cursus mauris. Morbi finibus purus et iaculis vehicula. In bibendum nisi quis blandit ullamcorper. Donec mollis tincidunt quam, vitae scelerisque arcu interdum accumsan. In porttitor ligula vitae accumsan pharetra. Vivamus aliquam sem vitae posuere lacinia. Morbi urna ipsum, bibendum in hendrerit ut, dignissim a mauris. Curabitur eleifend dignissim magna, sit amet placerat felis dignissim et.</p>

	<!--<svg width="190mm" height="100mm" viewBox="0 0 190 100">-->
	<svg width="190mm" height="100mm">
		<g>
			<rect id="diag1" width="150" height="60" x="20" y="20" style="stroke:black;fill:none;"></rect>
			<g id="equa1">
				<svg  id="math1" style="vertical-align: -0.023ex;" width="2.11ex" height="2.022ex" role="img" focusable="false" viewBox="0 -883.9 932.6 893.9">
					<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)">
						<g data-mml-node="math">
							<g data-mml-node="msup">
								<g data-mml-node="mi">
									<use xlink:href="#MJX-TEX-I-61"></use>
								</g>
								<g data-mml-node="mn" transform="translate(529, 413) scale(0.707)">
									<use xlink:href="#MJX-TEX-N-32"></use>
								</g>
							</g>
						</g>
					</g>
				</svg>	
			</g>
		</g>
	</svg>	
	
	<p>Suspendisse pretium, purus in pellentesque lobortis, nibh elit egestas leo, sit amet fringilla elit lorem eu leo. Praesent vel sollicitudin justo, quis laoreet diam. Morbi maximus dictum ipsum, nec finibus enim gravida in. Interdum et malesuada \eqref{eq:sample} fames ac ante ipsum primis in faucibus. Aenean sit amet tincidunt lectus. Donec a mollis augue. Sed lobortis, nunc at consequat luctus, dui neque ultrices ipsum, vitae elementum justo sapien sit amet tellus. Nunc fringilla lobortis elit, feugiat tincidunt felis placerat quis. Nam venenatis convallis nisi sed euismod. Nulla molestie imperdiet congue. Etiam efficitur quis risus quis mattis. Sed efficitur arcu a tincidunt gravida.</p>

	<svg width="190mm" height="100mm">
		<text class="s_math" x="195" y="50">\[ a^2 \]</text>
		<text class="s_math" x="30" y="40">\[ \frac{1}{s} \]</text>
		<text class="s_math" x="30" y="40">\( u \)</text>
	</svg>

	<p>Suspendisse pretium, purus in pellentesque lobortis, nibh elit egestas leo, sit amet fringilla elit lorem eu leo. Praesent vel sollicitudin justo, quis laoreet diam. Morbi maximus dictum ipsum, nec finibus enim gravida in. Interdum et malesuada \eqref{eq:sample} fames ac ante ipsum primis in faucibus. Aenean sit amet tincidunt lectus. Donec a mollis augue. Sed lobortis, nunc at consequat luctus, dui neque ultrices ipsum, vitae elementum justo sapien sit amet tellus. Nunc fringilla lobortis elit, feugiat tincidunt felis placerat quis. Nam venenatis convallis nisi sed euismod. Nulla molestie imperdiet congue. Etiam efficitur quis risus quis mattis. Sed efficitur arcu a tincidunt gravida.</p>

	<svg width="190mm" height="100mm" viewBox="0 0 190 100">
		<g>
			<rect class="block_rect" x="70" y="25" width="50" height="50"></rect>
			<g transform="translate(95 50)">
				<svg style="vertical-align: -0.023ex;" width="2.11ex" height="2.022ex" role="img" focusable="false" viewBox="0 -883.9 932.6 893.9">
					<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)">
						<g data-mml-node="math">
							<g data-mml-node="msup">
								<g data-mml-node="mi">
									<use xlink:href="#MJX-TEX-I-61"></use>
								</g>
								<g data-mml-node="mn" transform="translate(529, 413) scale(0.707)">
									<use xlink:href="#MJX-TEX-N-32"></use>
								</g>
							</g>
						</g>
					</g>
				</svg>
			</g>
		</g>
		<g>
			<rect class="block_rect" x="5" y="15" width="50" height="50"></rect>
			<g transform="translate(30 40)">
				<svg style="vertical-align: -0.025ex;" width="1.884ex" height="2.025ex" role="img" focusable="false" viewBox="0 -883.9 832.6 894.9">
					<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)">
						<g data-mml-node="math">
							<g data-mml-node="msup">
								<g data-mml-node="mi">
									<use xlink:href="#MJX-TEX-I-62"></use>
								</g>
								<g data-mml-node="mn" transform="translate(429, 413) scale(0.707)">
									<use xlink:href="#MJX-TEX-N-32"></use>
								</g>
							</g>
						</g>
					</g>
				</svg>
			</g>
		</g>
	</svg>


</body>
<script>
var equa1 = document.getElementById('equa1');
var diag1 = document.getElementById('diag1');

var equa_bcr = equa1.getBoundingClientRect();
var math_bcr = math1.getBoundingClientRect();

console.log(equa_bcr);
console.log(math_bcr);

var pos_x = 20 + 150 / 2 - math_bcr.width / 2;
var pos_y = 20 + 60 / 2 - math_bcr.height / 2;

equa1.setAttribute("transform", "translate(" + pos_x + ", " + pos_y + ")");

/* MathJax.Hub.Queue(function () {
	console.log("TUTU");
}); */



</script>

</html>
